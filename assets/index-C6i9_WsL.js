import{u as S,a as C}from"./vue-router-BT-sy4oo.js";import{P as q,u as R,R as E,_ as U}from"./index-C-seUybK.js";import{w as B}from"./website.config-D4PYXb8k.js";import{P,L as A}from"./vicons-ionicons5-CwthGeTe.js";import{ah as L,e as M,b as O,h as z,g as V,B as D,d as j}from"./naive-ui-DTkP1Nhe.js";import{k as G,o as T,r as _,e as Q,Q as F,R as H,U as J,S as a,N as f,a3 as s,a4 as o,j as h}from"./vue-iyKSyPgD.js";import"./pinia-B-rzt09u.js";import"./lodash-es-D7KfrSKz.js";import"./vue-quill-Cpj98o6Y.js";import"./vicons-antd-lylIHZTS.js";const K={class:"view-account"},W={class:"view-account-container animate__animated animate__fadeInDown"},X={class:"view-account-top"},Y={class:"view-account-top-logo"},Z=["src"],$={class:"view-account-form"},ee={class:"flex-between-wrapper"},se={class:"left"},ae=G({__name:"index",setup(oe){T(()=>{setTimeout(()=>{const l=document.querySelector('input[placeholder="請輸入帳號"]');l&&l.focus()},500)});const g=_(),i=L(),u=_(!1),w=_(!0),x=q.BASE_LOGIN_NAME,t=Q({username:"ADMIN0001",password:"123456",isCaptcha:!0}),N={username:{required:!0,message:"請輸入帳號",trigger:"blur"},password:{required:!0,message:"請輸入密碼",trigger:"blur"}},y=R(),b=S(),k=C(),I=l=>{l.preventDefault(),g.value.validate(async e=>{if(e)i.error("請填寫完整訊息，並輸入驗證碼");else{const{username:c,password:d}=t;i.loading("登入中..."),u.value=!0;const n={username:c,password:d};try{const{code:v,message:m}=await y.login(n);if(i.destroyAll(),v==E.SUCCESS){const p=decodeURIComponent(k.query?.redirect||"/");i.success("登入成功，即將進入後台系統"),k.name===x?b.replace("/"):b.replace(p)}else i.info(m||"登入失敗，請檢查輸入資料")}finally{u.value=!1}}})};return(l,e)=>{const c=z,d=O,n=M,v=V,m=D,p=j;return H(),F("div",K,[e[8]||(e[8]=J('<div class="view-account-header" data-v-b67c8616></div><div class="view-account-background" data-v-b67c8616><div class="line line-1" data-v-b67c8616></div><div class="line line-2" data-v-b67c8616></div><div class="line line-3" data-v-b67c8616></div><div class="square square-1" data-v-b67c8616></div><div class="square square-2" data-v-b67c8616></div><div class="triangle" data-v-b67c8616></div><div class="wave wave-1" data-v-b67c8616></div><div class="wave wave-2" data-v-b67c8616></div><div class="wave wave-3" data-v-b67c8616></div></div>',2)),a("div",W,[a("div",X,[a("div",Y,[a("img",{src:f(B).loginImage,alt:""},null,8,Z)]),e[3]||(e[3]=a("div",{class:"view-account-top-desc"},"房不熟後台管理系統",-1))]),a("div",$,[e[7]||(e[7]=a("h2",{class:"view-account-title"},"帳號登入",-1)),s(p,{ref_key:"formRef",ref:g,"label-placement":"left",size:"large",model:t,rules:N,class:"login-form"},{default:o(()=>[s(n,{path:"username",class:"username-item"},{default:o(()=>[s(d,{value:t.username,"onUpdate:value":e[0]||(e[0]=r=>t.username=r),placeholder:"請輸入帳號",class:"login-input"},{prefix:o(()=>[s(c,{size:"18",color:"#808695"},{default:o(()=>[s(f(P))]),_:1})]),_:1},8,["value"])]),_:1}),s(n,{path:"password",class:"password-item"},{default:o(()=>[s(d,{value:t.password,"onUpdate:value":e[1]||(e[1]=r=>t.password=r),type:"password",showPasswordOn:"click",placeholder:"請輸入密碼",class:"login-input"},{prefix:o(()=>[s(c,{size:"18",color:"#808695"},{default:o(()=>[s(f(A))]),_:1})]),_:1},8,["value"])]),_:1}),s(n,{class:"default-color remember-forgot"},{default:o(()=>[a("div",ee,[a("div",se,[s(v,{checked:w.value,"onUpdate:checked":e[2]||(e[2]=r=>w.value=r)},{default:o(()=>[...e[4]||(e[4]=[h("自動登入",-1)])]),_:1},8,["checked"])]),e[5]||(e[5]=a("div",{class:"right"},[a("a",{href:"javascript:",class:"forgot-link"},"忘記密碼")],-1))])]),_:1}),s(n,null,{default:o(()=>[s(m,{type:"primary",onClick:I,size:"large",loading:u.value,block:"",class:"login-button"},{default:o(()=>[...e[6]||(e[6]=[h(" 登入 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])}}}),pe=U(ae,[["__scopeId","data-v-b67c8616"]]);export{pe as default};

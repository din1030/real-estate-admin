import{T as $,B as E}from"./TableAction-BOq8r2mz.js";import{u as K,B as L}from"./useForm-C5x5pFxX.js";import{c as j,f as M}from"./data-BeiI5yWB.js";import{u as O}from"./vue-router-DhdgYiHa.js";import{w as Q,b as W,B as z,h as G,a5 as H,d as J,e as X,K as Y,r as Z}from"./naive-ui-DTkP1Nhe.js";import{P as ee}from"./vicons-antd-lylIHZTS.js";import{k as oe,r as u,e as w,m as te,Q as ne,R as le,S as ae,a3 as t,a4 as n,F as se,N as r,j as f}from"./vue-iyKSyPgD.js";import"./index-Di6ZDhMq.js";import"./pinia-B-rzt09u.js";import"./lodash-es-D7KfrSKz.js";import"./vue-quill-Cpj98o6Y.js";import"./vicons-ionicons5-CwthGeTe.js";import"./vueuse-BFLXqqnf.js";const re={class:"n-layout-page-header"},Re=oe({__name:"index",setup(ue){const y={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},h=[{field:"applyDate",component:"NDatePicker",label:"申請日期",defaultValue:new Date,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",component:"NSelect",defaultValue:1,label:"帳號狀態",componentProps:{placeholder:"選擇帳號狀態",options:[{label:"全部",value:1},{label:"已審核",value:2},{label:"待審核",value:3},{label:"未通過",value:4}],onUpdateValue:e=>{console.log(e)}}},{field:"keyword",component:"NInput",label:"關鍵字",componentProps:{placeholder:"",onInput:e=>{console.log(e)}}}],k=O(),_=u(null),g=u(),s=u(!1),i=u(!1),a=w({name:"",address:"",date:null}),R=w({width:120,title:"操作",key:"action",fixed:"right",render(e){return te($,{style:"button",actions:[{label:"編輯",onClick:N.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}]})}}),[x,{getFieldsValue:ie}]=K({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:h});function B(){s.value=!0}const C=async()=>{const e=await M();return{list:e,total:e.length}};function T(e){console.log(e)}function b(){g.value.reload()}function U(e){e.preventDefault(),i.value=!0,_.value.validate(o=>{o?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{s.value=!1,b()})),i.value=!1})}function N(e){console.log("点击了編輯",e),k.push({name:"AgentDetail",params:{id:e.id}})}function P(e){console.log(e),b()}function V(e){console.log(e)}return(e,o)=>{const d=Q,p=W,D=G,m=z,c=X,F=Y,S=J,q=Z,A=H;return le(),ne(se,null,[ae("div",re,[t(d,{bordered:!1,title:"房仲管理"})]),t(d,{bordered:!1},{default:n(()=>[t(r(L),{onRegister:r(x),onSubmit:P,onReset:V},{statusSlot:n(({model:l,field:v})=>[t(p,{value:l[v],"onUpdate:value":I=>l[v]=I},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"])]),_:1}),t(d,{bordered:!1,class:"mt-3"},{default:n(()=>[t(r(E),{columns:r(j),request:C,"row-key":l=>l.id,ref_key:"actionRef",ref:g,actionColumn:R,"onUpdate:checkedRowKeys":T,"scroll-x":1090,striped:!0},{tableTitle:n(()=>[t(m,{type:"primary",onClick:B},{icon:n(()=>[t(D,null,{default:n(()=>[t(r(ee))]),_:1})]),default:n(()=>[o[5]||(o[5]=f(" 新建 ",-1))]),_:1})]),toolbar:n(()=>[...o[6]||(o[6]=[])]),_:1},8,["columns","row-key","actionColumn"]),t(A,{show:s.value,"onUpdate:show":o[4]||(o[4]=l=>s.value=l),"show-icon":!1,preset:"dialog",title:"新建"},{action:n(()=>[t(q,null,{default:n(()=>[t(m,{onClick:o[3]||(o[3]=()=>s.value=!1)},{default:n(()=>[...o[7]||(o[7]=[f("取消",-1)])]),_:1}),t(m,{type:"info",loading:i.value,onClick:U},{default:n(()=>[...o[8]||(o[8]=[f("确定",-1)])]),_:1},8,["loading"])]),_:1})]),default:n(()=>[t(S,{model:a,rules:y,ref_key:"formRef",ref:_,"label-placement":"left","label-width":80,class:"py-4"},{default:n(()=>[t(c,{label:"名称",path:"name"},{default:n(()=>[t(p,{placeholder:"请输入名称",value:a.name,"onUpdate:value":o[0]||(o[0]=l=>a.name=l)},null,8,["value"])]),_:1}),t(c,{label:"地址",path:"address"},{default:n(()=>[t(p,{type:"textarea",placeholder:"请输入地址",value:a.address,"onUpdate:value":o[1]||(o[1]=l=>a.address=l)},null,8,["value"])]),_:1}),t(c,{label:"日期",path:"date"},{default:n(()=>[t(F,{type:"datetime",placeholder:"请选择日期",value:a.date,"onUpdate:value":o[2]||(o[2]=l=>a.date=l)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});export{Re as default};

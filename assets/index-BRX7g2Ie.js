import{T as C,B as P}from"./TableAction-BOq8r2mz.js";import{u as V,B as x}from"./useForm-C5x5pFxX.js";import{f as B,s as i,r as N}from"./data-CPlVCFxg.js";import{u as R}from"./vue-router-DhdgYiHa.js";import{k as S,r as o,e as d,m as D,Q as F,R as T,S as U,a3 as l,a4 as t,F as q,N as n}from"./vue-iyKSyPgD.js";import{w as A}from"./naive-ui-DTkP1Nhe.js";import"./index-Di6ZDhMq.js";import"./pinia-B-rzt09u.js";import"./lodash-es-D7KfrSKz.js";import"./vue-quill-Cpj98o6Y.js";import"./vicons-antd-lylIHZTS.js";import"./vicons-ionicons5-CwthGeTe.js";import"./vueuse-BFLXqqnf.js";const E={class:"n-layout-page-header"},$=S({__name:"index",setup(H){const s=o(i),r=o("sale"),p=o([new Date("2025-01-01").valueOf(),Date.now()]),m=[{field:"type",component:"NSelect",label:"交易類型",defaultValue:1,componentProps:{placeholder:"請選擇",options:[{label:"買賣",value:1},{label:"租賃",value:2}],onUpdateValue:e=>{console.log(e),r.value=e==1?"sale":"rental",s.value=e==1?i:N}}},{field:"county",component:"NSelect",label:"縣市",defaultValue:1,componentProps:{placeholder:"選擇縣市",options:[{label:"台北市",value:1},{label:"新北市",value:2},{label:"基隆市",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"district",component:"NSelect",label:"地區",defaultValue:1,componentProps:{placeholder:"選擇地區",options:[{label:"大安區",value:1},{label:"南港區",value:2},{label:"松山區",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"name",component:"NInput",label:"關鍵字",componentProps:{placeholder:"地址 / 社區名稱"}},{field:"startDate",component:"NDatePicker",label:"成交日期",defaultValue:p,componentProps:{type:"daterange",startPlaceholder:"起始日期",endPlaceholder:"結束日期",clearable:!0,onUpdateValue:e=>{console.log(e)}}}],f=R();o(null);const c=o();o(!1),o(!1),d({name:"",address:"",date:null});const b=d({width:80,title:"操作",key:"action",fixed:"right",render(e){return D(C,{style:"button",actions:[{label:"查看",onClick:v.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}]})}}),[h,{getFieldsValue:I}]=V({gridProps:{cols:"1 s:1 m:2 l:3 xl:3 2xl:4"},labelWidth:80,showAdvancedButton:!1,layout:"block",schemas:m}),_=async()=>{const e=await B();return{list:e,total:e.length}};function g(){c.value.reload()}function v(e){f.push({name:"aprDetail",params:{id:e.id},query:{type:r.value}})}function y(e){console.log(e),g()}function k(e){console.log(e)}return(e,u)=>{const a=A;return T(),F(q,null,[U("div",E,[l(a,{bordered:!1,title:"實價登錄資料"})]),l(a,{bordered:!1},{default:t(()=>[l(n(x),{onRegister:n(h),onSubmit:y,onReset:k},null,8,["onRegister"])]),_:1}),l(a,{bordered:!1,class:"mt-3"},{default:t(()=>[l(n(P),{columns:s.value,request:_,"row-key":w=>w.id,ref_key:"actionRef",ref:c,actionColumn:b,"scroll-x":1090,striped:!0},{toolbar:t(()=>[...u[0]||(u[0]=[])]),_:1},8,["columns","row-key","actionColumn"])]),_:1})],64)}}});export{$ as default};
